---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
const sorted = projects.sort((a,b) => (a.data.date < b.data.date ? 1 : -1));
---
<BaseLayout title="Work | Nick Mourtoupalas" description="Selected work and case studies.">
  <Fragment slot="header"><Header /></Fragment>

  <section class="panel" style="margin-top:18px;">
    <div class="kicker">Work</div>
    <h1 class="h1">Selected projects</h1>
    <p class="lead">Placeholder: short sentence about what these projects demonstrate and what your role typically includes.</p>

    <div class="grid" style="margin-top:14px;">
      {sorted.map((p) => (
        <div class="col-12 col-6">
          <ProjectCard project={p} />
        </div>
      ))}
    </div>
  </section>

  <Fragment slot="footer"><Footer /></Fragment>
</BaseLayout>